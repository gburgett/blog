<!doctype html><html><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta http-equiv=Accept-CH content="DPR, Viewport-Width, Width"><link rel=icon href=/fav.png type=image/gif><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" media=print onload='this.media="all"'><noscript><link href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel=stylesheet></noscript><link rel=stylesheet href=/css/font.css media=all><meta property="og:url" content="http://www.gordonburgett.net/archive/2018/05_enrolled_at_hogwarts/"><meta property="og:site_name" content="Gordon Burgett | Director of Technology Development"><meta property="og:title" content="Feeling Like I'm at Hogwarts"><meta property="og:description" content="I spent some time this week playing with Typescript 2.8’s new features for modeling various complex types. The new syntax that I wanted to play with was the conditional type syntax,
T extends U ? X : Y This syntax allows you to express some really crazy type relationships! Some of the most interesting ones have been pre-defined in the Typescript standard lib:
Exclude<T, U> – Exclude from T those types that are assignable to U. Extract<T, U> – Extract from T those types that are assignable to U. I wanted to see if I could use these to model the way we’ve been working with return values from Contentful’s Content Delivery API."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="archive"><meta property="article:published_time" content="2018-05-20T14:52:15-05:00"><meta property="article:modified_time" content="2018-05-20T14:52:15-05:00"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Development"><meta property="article:tag" content="Typescript"><meta name=twitter:card content="summary"><meta name=twitter:title content="Feeling Like I'm at Hogwarts"><meta name=twitter:description content="I spent some time this week playing with Typescript 2.8’s new features for modeling various complex types. The new syntax that I wanted to play with was the conditional type syntax,
T extends U ? X : Y This syntax allows you to express some really crazy type relationships! Some of the most interesting ones have been pre-defined in the Typescript standard lib:
Exclude<T, U> – Exclude from T those types that are assignable to U. Extract<T, U> – Extract from T those types that are assignable to U. I wanted to see if I could use these to model the way we’ve been working with return values from Contentful’s Content Delivery API."><link rel=stylesheet href=/bootstrap-5/css/bootstrap.min.css media=all><link rel=stylesheet href=/css/header.css media=all><link rel=stylesheet href=/css/footer.css media=all><link rel=stylesheet href=/css/theme.css media=all><style>:root{--text-color:#343a40;--text-secondary-color:#6c757d;--text-link-color:#007bff;--background-color:#eaedf0;--secondary-background-color:#64ffda1a;--primary-color:#007bff;--secondary-color:#f8f9fa;--text-color-dark:#e4e6eb;--text-secondary-color-dark:#b0b3b8;--text-link-color-dark:#ffffff;--background-color-dark:#18191a;--secondary-background-color-dark:#212529;--primary-color-dark:#ffffff;--secondary-color-dark:#212529}body{font-size:1rem;font-weight:400;line-height:1.5;text-align:left}html{background-color:var(--background-color)!important}body::-webkit-scrollbar{height:0;width:8px;background-color:var(--background-color)}::-webkit-scrollbar-track{border-radius:1rem}::-webkit-scrollbar-thumb{border-radius:1rem;background:#b0b0b0;outline:1px solid var(--background-color)}#search-content::-webkit-scrollbar{width:.5em;height:.1em;background-color:var(--background-color)}</style><link rel=stylesheet href=/css/custom.css type=text/css><script src=/js/custom.js type=text/javascript></script><meta name=description content><link rel=stylesheet href=/css/single.css><script defer src=/fontawesome-6/all-6.4.2.js></script><link rel=stylesheet href=/style.css><title>Feeling Like I'm at Hogwarts | Gordon Burgett | Director of Technology Development</title></head><body class=light><script>let localStorageValue=localStorage.getItem("pref-theme"),mediaQuery=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(localStorageValue){case"dark":document.body.classList.add("dark");break;case"light":document.body.classList.remove("dark");break;default:mediaQuery&&document.body.classList.add("dark");break}</script><header id=profileHeader><nav class="pt-3 navbar navbar-expand-lg animate"><div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5"><a class="navbar-brand primary-font text-wrap" href=/>Gordon Burgett
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarContent aria-controls=navbarContent aria-expanded=false aria-label="Toggle navigation"><svg aria-hidden="true" height="24" viewBox="0 0 16 16" width="24" data-view-component="true"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button><div class="collapse navbar-collapse text-wrap primary-font" id=navbarContent><ul class="navbar-nav ms-auto text-center"><li class="nav-item navbar-text"><a class=nav-link href=/posts title="Blog posts">Blog</a></li><li class="nav-item navbar-text"><a class=nav-link href=/albania title=Albania>Albania</a></li><li class="nav-item navbar-text"><a class=nav-link href=/archive title=Archive>Archive</a></li><li class="nav-item navbar-text"><div class=text-center><button id=theme-toggle><svg id="moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></li></ul></div></div></nav></header><div id=content><section id=single><div class=container><div class="row justify-content-center"><div class="col-sm-12 col-md-12 col-lg-9"><div class=pr-lg-4><div class="title mb-5"><h1 class="text-center mb-4">Feeling Like I'm at Hogwarts</h1><div class=text-center>May 20, 2018
<span id=readingTime>min read</span></div></div><article class="page-content p-2"><p>I spent some time this week playing with <a href=https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html>Typescript 2.8&rsquo;s new features</a>
for modeling various complex types. The new syntax that I wanted to play with
was the conditional type syntax,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#a6e22e>T</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>U</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>X</span> : <span style=color:#66d9ef>Y</span>
</span></span></code></pre></div><p>This syntax allows you to express some really crazy type relationships! Some of
the most interesting ones have been pre-defined in the Typescript standard lib:</p><ul><li><code>Exclude&lt;T, U></code> – Exclude from T those types that are assignable to U.</li><li><code>Extract&lt;T, U></code> – Extract from T those types that are assignable to U.</li></ul><p>I wanted to see if I could use these to model the way we&rsquo;ve been working with
return values from <a href=https://www.contentful.com/developers/docs/references/content-delivery-api/>Contentful&rsquo;s Content Delivery API</a>.</p><p><a href=/archive/2018/05_enrolled_at_hogwarts/#going-recursive>Skip to the final type definitions &ndash;></a></p><h2 id=modeling-a-cdn-api-response>Modeling a CDN API response</h2><p>We can break up the raw response into several re-usable sections. First, all links
have a common structure that we can model with an <code>ILink</code> type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;sys&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;Link&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;linkType&#34;</span>: <span style=color:#e6db74>&#34;Entry&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;id&#34;</span>: <span style=color:#e6db74>&#34;0SUbYs2vZlXjVR6bH6o83O&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ILink</span>&lt;<span style=color:#f92672>Type</span> <span style=color:#a6e22e>extends</span> <span style=color:#a6e22e>string</span>&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sys</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Link&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>linkType</span>: <span style=color:#66d9ef>Type</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Notice that the ILink is generic over the LinkType. This lets us have a
<code>ILink&lt;'Entry'></code> and an <code>ILink&lt;'Space'></code>, which cannot be assigned to eachother.
This reflects all the kinds of links that can exist in a response.</p><p>Next let&rsquo;s wrap up the entry Sys field in its own interface:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>ISys</span>&lt;<span style=color:#f92672>Type</span> <span style=color:#a6e22e>extends</span> <span style=color:#a6e22e>string</span>&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>space</span>: <span style=color:#66d9ef>ILink</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;Space&#39;</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Type</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createdAt?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>updatedAt?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>revision?</span>: <span style=color:#66d9ef>number</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>environment?</span>: <span style=color:#66d9ef>ILink</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;Environment&#39;</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>contentType</span>: <span style=color:#66d9ef>ILink</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;ContentType&#39;</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>locale?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ISys is also generic over the type, so an <code>ISys&lt;'Entry'></code> and <code>ISys&lt;'Asset'></code> are
not compatible.</p><p>Now we can define an Entry:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>IEntry</span>&lt;<span style=color:#f92672>TFields</span>&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sys</span>: <span style=color:#66d9ef>ISys</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;Entry&#39;</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fields</span>: <span style=color:#66d9ef>TFields</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>and an Asset:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>IAsset</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sys</span>: <span style=color:#66d9ef>ISys</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;Asset&#39;</span><span style=color:#f92672>&gt;</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fields</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// TODO: more fields for different asset types
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>title?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>description?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>file</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>url?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>details</span><span style=color:#f92672>?:</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>size?</span>: <span style=color:#66d9ef>number</span>,
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fileName?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>contentType?</span>: <span style=color:#66d9ef>string</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This construction allows us to define Typescript interfaces for our content types
by simply defining their fields, without duplicating the Sys object definition:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>IPageProps</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>title</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slug</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>parent</span>: <span style=color:#66d9ef>ILink</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;Entry&#39;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sections?</span>: <span style=color:#66d9ef>Array</span>&lt;<span style=color:#f92672>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;&#39;</span><span style=color:#a6e22e>Entry</span><span style=color:#960050;background-color:#1e0010>&#39;</span>&gt;<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>subpages?</span>: <span style=color:#66d9ef>Array</span>&lt;<span style=color:#f92672>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;&#39;</span><span style=color:#a6e22e>Entry</span><span style=color:#960050;background-color:#1e0010>&#39;</span>&gt;<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>IPage</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>IEntry</span>&lt;<span style=color:#f92672>IPageProps</span>&gt; {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>isPage</span>(<span style=color:#a6e22e>entry</span>: <span style=color:#66d9ef>IEntry</span>&lt;<span style=color:#f92672>any</span>&gt;)<span style=color:#f92672>:</span> <span style=color:#a6e22e>entry</span> <span style=color:#66d9ef>is</span> <span style=color:#a6e22e>IPage</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>entry</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>entry</span>.<span style=color:#a6e22e>sys</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>entry</span>.<span style=color:#a6e22e>sys</span>.<span style=color:#a6e22e>contentType</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>entry</span>.<span style=color:#a6e22e>sys</span>.<span style=color:#a6e22e>contentType</span>.<span style=color:#a6e22e>sys</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>entry</span>.<span style=color:#a6e22e>sys</span>.<span style=color:#a6e22e>contentType</span>.<span style=color:#a6e22e>sys</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;page&#39;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>I love having intellisense pop up to help me see the fields on an entry!
<img alt="Intellisense on an entry" src=/images/2018/05_entry_intellisense.jpg></p><h2 id=resolving-links>Resolving links</h2><p>Now I have a problem though, because I want to take a link to a section and then
download the actual section object in order to render it. One way to do that
is to wrap a function around the API that resolves my links:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>resolve</span>&lt;<span style=color:#f92672>TLink</span>&gt;(<span style=color:#a6e22e>link</span>: <span style=color:#66d9ef>ILink</span>&lt;<span style=color:#f92672>TLink</span>&gt;)<span style=color:#f92672>:</span> <span style=color:#a6e22e>IEntry</span>&lt;<span style=color:#f92672>any</span>&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// hit the API here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><p>But ideally, I&rsquo;d like to be able to just resolve my tree of objects once using
something like <a href=https://www.contentful.com/developers/docs/references/content-delivery-api/#/reference/links/retrieval-of-linked-items>the <code>include</code> parameter</a>
and then replace links in my object structure with the actual resolved entry.
The implementation of this is not too difficult - and less interesting. What&rsquo;s
more interesting is modeling the types. My goal is to be able to do something
ridiculous like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>thumbUrl</span> <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>parent</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>sections</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>header</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>thumbnail</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>url</span>
</span></span></code></pre></div><p>Defining the types to be able to do this in an elegant way is going to take some
magic. So let&rsquo;s take a trip to Hogwarts :)</p><p>First, let&rsquo;s reflect the fact that my Page can have links that are either resolved
or not, and define the allowable types that they can resolve to:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>IPageProps</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>title</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slug</span>: <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>parent</span>: <span style=color:#66d9ef>ILink</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#39;Entry&#39;</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>IPage</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sections?</span>: <span style=color:#66d9ef>Array</span>&lt;<span style=color:#f92672>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;&#39;</span><span style=color:#a6e22e>Entry</span><span style=color:#960050;background-color:#1e0010>&#39;</span>&gt; <span style=color:#f92672>|</span> <span style=color:#a6e22e>PageSection</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>subpages?</span>: <span style=color:#66d9ef>Array</span>&lt;<span style=color:#f92672>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;&#39;</span><span style=color:#a6e22e>Entry</span><span style=color:#960050;background-color:#1e0010>&#39;</span>&gt; <span style=color:#f92672>|</span> <span style=color:#a6e22e>IPage</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// this is all the content types that can be assigned to the Sections array.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>type</span> <span style=color:#a6e22e>PageSection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ISectionHeader</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>ISectionBlockText</span> <span style=color:#f92672>|</span> ...
</span></span></code></pre></div><p>This gets me part-way there. Now instead of calling <code>resolve</code> to hit the API
every time I want to access a section, I can just cast it. Or, to get some runtime
protection, I can create a method <code>expectResolved</code> to early-exit if it&rsquo;s still a link:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>expectResolved</span>&lt;<span style=color:#f92672>T</span>&gt;(<span style=color:#a6e22e>prop</span>: <span style=color:#66d9ef>T</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>Exclude</span>&lt;<span style=color:#f92672>T</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>any</span>&gt;<span style=color:#f92672>&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>isLink</span>(<span style=color:#a6e22e>prop</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>`Expect </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>prop</span>.<span style=color:#a6e22e>sys</span>.<span style=color:#a6e22e>id</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to have been resolved but was still a link.`</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>prop</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>render</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>title</span>, <span style=color:#a6e22e>sections</span> } <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>props</span>.<span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>fields</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h1</span>&gt;{<span style=color:#a6e22e>title</span>}&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>      {<span style=color:#a6e22e>sections</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>s</span>) =&gt; <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>renderSection</span>(<span style=color:#a6e22e>expectResolved</span>(<span style=color:#a6e22e>s</span>)))}
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>renderSection</span>(<span style=color:#a6e22e>s</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>PageSection</span>) {
</span></span></code></pre></div><p>But this doesn&rsquo;t satisfy me. This is some Ron Weasley code. What would Hermione do?</p><h2 id=enter-the-magic>Enter the magic</h2><p>I know I can recursively resolve my entire tree at runtime, but can I recursively
modify the type definitions in order to tell Typescript that <code>ILink</code> is never
going to be present in these props? I certainly don&rsquo;t want to maintain two
versions of <code>IPage</code>. That would be a pain. I&rsquo;d ideally like a generic type
<code>Resolved&lt;T></code> such that <code>Resolved&lt;IPage></code> says there are no links in the fields,
and no links in the fields of those linked fields. This&rsquo;ll enable my desired
result:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>page</span>: <span style=color:#66d9ef>Resolved</span>&lt;<span style=color:#f92672>IPage</span>&gt; <span style=color:#f92672>=</span> ...
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>thumbUrl</span> <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>parent</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>sections</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>header</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>thumbnail</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>url</span>
</span></span></code></pre></div><p>Fortunately Typescript 2.8 just introduced a new form of magic - the conditional
type defs! Using those together with the <code>infer</code> keyword, I can basically use
if statements and assign variables inside a typedef!</p><p>So let&rsquo;s go top-down. Supposing I have an <code>IEntry&lt;ISomeFields></code>, I want to transform
<code>ISomeFields</code> such that <code>ILink&lt;any></code> does not appear in any of its properties.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Resolved</span>&lt;<span style=color:#f92672>TEntry</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>TEntry</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>IEntry</span>&lt;<span style=color:#f92672>infer</span> <span style=color:#a6e22e>TProps</span>&gt; <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// TEntry is an entry and we know the type of it&#39;s props
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>IEntry</span><span style=color:#f92672>&lt;</span>{
</span></span><span style=display:flex><span>      [<span style=color:#a6e22e>P</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>keyof</span> <span style=color:#a6e22e>TProps</span>]<span style=color:#f92672>:</span> ... <span style=color:#75715e>// Transform the values of these props
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Compiler should validate that TEntry is never not an entry
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>:</span> <span style=color:#66d9ef>never</span>
</span></span></code></pre></div><p>Now we&rsquo;re down into the weeds of this spell. We have access to the type of each
property in the entry&rsquo;s <code>fields</code> via <code>TProps[P]</code>. If the field <code>name</code> is a string,
then <code>TProps['name'] == string</code>. If the field <code>parent</code> is an <code>ILink&lt;'Entry'> | IPage</code>,
how do we get it to be just an <code>IPage</code>? <code>Exclude</code> does the trick:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span>  [<span style=color:#a6e22e>P</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>keyof</span> <span style=color:#a6e22e>TProps</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>Exclude</span>&lt;<span style=color:#f92672>TProps</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>P</span><span style=color:#960050;background-color:#1e0010>],</span> <span style=color:#a6e22e>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>any</span>&gt;<span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><p>Alrighty, now we&rsquo;ve got <code>parent</code> working. We also get assets for free, since
<code>ILink&lt;'Asset'> | IAsset</code> becomes just <code>IAsset</code>. Time to go deeper. We need to
handle Arrays. Let&rsquo;s define a new type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ResolvedArray</span>&lt;<span style=color:#f92672>TItem</span>&gt; <span style=color:#f92672>=</span> Array&lt;<span style=color:#f92672>Exclude</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>TItem</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>any</span>&gt;<span style=color:#f92672>&gt;&gt;</span>
</span></span></code></pre></div><p>And a wrapper type that checks if the field is an array:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ResolvedField</span>&lt;<span style=color:#f92672>TField</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>TField</span> <span style=color:#66d9ef>extends</span> Array&lt;<span style=color:#f92672>infer</span> <span style=color:#a6e22e>TItem</span>&gt; <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Array of entries - dive into the item type to remove links
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>ResolvedArray</span>&lt;<span style=color:#f92672>TItem</span>&gt; <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>TField</span>
</span></span></code></pre></div><p>Then we use that in our properties declaration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span>  [<span style=color:#a6e22e>P</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>keyof</span> <span style=color:#a6e22e>TProps</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>ResolvedField</span>&lt;<span style=color:#f92672>Exclude</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>TProps</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>P</span><span style=color:#960050;background-color:#1e0010>],</span> <span style=color:#a6e22e>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>any</span>&gt;<span style=color:#f92672>&gt;&gt;</span>
</span></span></code></pre></div><p>Now we&rsquo;ve got a type that wraps any <code>IEntry</code>, conforming to the IEntry interface
and none of it&rsquo;s properties are links! So we can do this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>page</span>: <span style=color:#66d9ef>Resolved</span>&lt;<span style=color:#f92672>IPage</span>&gt; <span style=color:#f92672>=</span> ...
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>headerSection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>page</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>parent</span>.<span style=color:#a6e22e>fields</span>.<span style=color:#a6e22e>sections</span>[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span><span style=color:#75715e>// headerSection is `ILink&lt;&#39;Entry&#39;&gt; | PageSection`
</span></span></span></code></pre></div><p>but we can&rsquo;t recursively dig deeper. Yet :)</p><h2 id=going-recursive>Going recursive</h2><p>In Harry Potter, Dumbledore gives Hermione a Time-Turner, which can rewind time
allowing her to get to all her classes and finish her homework every night.</p><p><img alt="Hermione&rsquo;s time turner" src=/images/2018/05_hermione_time_turner.jpg></p><p>That&rsquo;s the kind of power that recursion gives us! Thanks to Typescript 2.8, we
can go recursive in type definitions as well, building a type definition that
recursively modifies properties all the way down the tree! All we have to do
is find every spot in our typedef that could be an entry, and if it is, wrap it
in a <code>Resolved&lt;></code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ResolvedField</span>&lt;<span style=color:#f92672>TField</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// three cases - an Entry which we recursively declare resolved,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>//  an Array which we recursively declare resolved,
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>//  or a normal field which we declare to not have links.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>TField</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>IEntry</span>&lt;<span style=color:#f92672>infer</span> <span style=color:#a6e22e>TProps</span>&gt; <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Single entry link, recursively declare it resolved.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>Resolved</span>&lt;<span style=color:#f92672>TField</span>&gt; <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>TField</span> <span style=color:#66d9ef>extends</span> Array&lt;<span style=color:#f92672>infer</span> <span style=color:#a6e22e>TItem</span>&gt; <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Array of entries - dive into the item type to remove links
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>ResolvedArray</span>&lt;<span style=color:#f92672>TItem</span>&gt; <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Some other type that doesn&#39;t need recursive resolution -
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>//  declare it has no links and be done
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>TField</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ResolvedArray</span>&lt;<span style=color:#f92672>TItem</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>TItem</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>IEntry</span>&lt;<span style=color:#f92672>any</span>&gt; <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Entries must be recursively resolved.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Array&lt;<span style=color:#f92672>Resolved</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>TItem</span>&gt;<span style=color:#f92672>&gt;</span> <span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    Array&lt;<span style=color:#f92672>Exclude</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>TItem</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>any</span>&gt;<span style=color:#f92672>&gt;&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Resolved</span>&lt;<span style=color:#f92672>TEntry</span>&gt; <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>TEntry</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>IEntry</span>&lt;<span style=color:#f92672>infer</span> <span style=color:#a6e22e>TProps</span>&gt; <span style=color:#f92672>?</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// TEntry is an entry and we know the type of it&#39;s props
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>IEntry</span><span style=color:#f92672>&lt;</span>{
</span></span><span style=display:flex><span>      [<span style=color:#a6e22e>P</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>keyof</span> <span style=color:#a6e22e>TProps</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>ResolvedField</span>&lt;<span style=color:#f92672>Exclude</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>TProps</span><span style=color:#960050;background-color:#1e0010>[</span><span style=color:#a6e22e>P</span><span style=color:#960050;background-color:#1e0010>],</span> <span style=color:#a6e22e>ILink</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>any</span>&gt;<span style=color:#f92672>&gt;&gt;</span>
</span></span><span style=display:flex><span>    }<span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Compiler should validate that TEntry is never not an entry
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>:</span> <span style=color:#66d9ef>never</span>
</span></span></code></pre></div><p>I found it! I found the incantation which lets me magically declare all fields
as resolved all the way down the tree!</p><h2 id=application>Application</h2><p>This has real-life uses for our new app at Watermark Community Church. We have
a tree of available downloads wrapped in nested categories, which we display using
react components on a single page. We pull this tree from Contentful, recursively
grabbing all the objects in the tree and building out the tree structure in a way
that looks like the above type definitions. Then we write that JSON out to the
page, where our React components pick it up.</p><p>The top-level react component accepts a <code>Resolved&lt;IResourceTree></code> in the props,
and thus it no longer has to worry about whether a node on the tree contains
the actual values, or needs to be resolved. That&rsquo;s asserted by Typescript -
you can&rsquo;t assign an <code>IResourceTree</code> directly to the properties, you have to
wrap it in <code>expectResolved()</code> which performs the runtime validation.</p><p>I&rsquo;m really enjoying the expressive power of the typescript type system, and it&rsquo;s
ability to catch errors you didn&rsquo;t even think to write tests for!</p></article></div></div><div class="col-sm-12 col-md-12 col-lg-3"><div id=stickySideBar class=sticky-sidebar><aside class=toc><h5>Table Of Contents</h5><div class=toc-content><nav id=TableOfContents><ul><li><a href=#modeling-a-cdn-api-response>Modeling a CDN API response</a></li><li><a href=#resolving-links>Resolving links</a></li><li><a href=#enter-the-magic>Enter the magic</a></li><li><a href=#going-recursive>Going recursive</a></li><li><a href=#application>Application</a></li></ul></nav></div></aside><aside class=tags><h5>Tags</h5><ul class="tags-ul list-unstyled list-inline"><li class=list-inline-item><a href=http://www.gordonburgett.net/tags/javascript target=_blank>javascript</a></li><li class=list-inline-item><a href=http://www.gordonburgett.net/tags/development target=_blank>development</a></li><li class=list-inline-item><a href=http://www.gordonburgett.net/tags/typescript target=_blank>typescript</a></li></ul></aside><aside class=social><h5>Social</h5><div class=social-content><ul class=list-inline><li class="list-inline-item text-center"><a target=_blank href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fwww.gordonburgett.net%2farchive%2f2018%2f05_enrolled_at_hogwarts%2f"><i class="fab fa-linkedin"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://twitter.com/share?text=Feeling%20Like%20I%27m%20at%20Hogwarts&url=http%3a%2f%2fwww.gordonburgett.net%2farchive%2f2018%2f05_enrolled_at_hogwarts%2f"><i class="fab fa-twitter"></i></a></li><li class="list-inline-item text-center"><a target=_blank href="https://api.whatsapp.com/send?text=Feeling%20Like%20I%27m%20at%20Hogwarts: http%3a%2f%2fwww.gordonburgett.net%2farchive%2f2018%2f05_enrolled_at_hogwarts%2f"><i class="fab fa-whatsapp"></i></a></li><li class="list-inline-item text-center"><a target=_blank href='mailto:?subject=Feeling%20Like%20I%27m%20at%20Hogwarts&amp;body=Check%20out%20this%20site http%3a%2f%2fwww.gordonburgett.net%2farchive%2f2018%2f05_enrolled_at_hogwarts%2f'><i class="fa fa-envelope"></i></a></li></ul></div></aside></div></div></div><div class=row><div class="col-sm-12 col-md-12 col-lg-9 p-4"></div></div></div><button class="p-2 px-3" onclick=topFunction() id=topScroll>
<i class="fas fa-angle-up"></i></button></section><div class=progress><div id=scroll-progress-bar class=progress-bar role=progressbar aria-valuenow=0 aria-valuemin=0 aria-valuemax=100></div></div><script src=/js/scrollProgressBar.js></script><script>var topScroll=document.getElementById("topScroll");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?topScroll.style.display="block":topScroll.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}let stickySideBarElem=document.getElementById("stickySideBar"),stickyNavBar=!1;if(stickyNavBar){let e=document.getElementById("profileHeader"),t=e.offsetHeight+15;stickySideBarElem.style.top=t+"px"}else stickySideBarElem.style.top="50px"</script><script src=/js/readingTime.js></script></div><footer><div class="text-center pt-2"></div><div class="container py-4"><div class="row justify-content-center"><div class="col-md-4 text-center">&copy; 2024 All Rights Reserved<div class=text-secondary>Made with
<span class=text-danger>&#10084;
</span>and
<a href=https://github.com/gurusabarish/hugo-profile target=_blank title="Designed and developed by gurusabarish">Hugo Profile</a></div></div></div></div></footer><script src=/bootstrap-5/js/bootstrap.bundle.min.js></script><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))});var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),tooltipList=tooltipTriggerList.map(function(e){return new bootstrap.Tooltip(e)})</script><section id=search-content class=py-2><div class=container id=search-results></div></section></body></html>